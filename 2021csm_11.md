# 컴퓨터시스템관리 실습일지 11주차
================================

20180994 이주연
실습결과 : <<https://youtu.be/lgKEuiy15EY>>

<br>

## 새로배운내용

<br>

## 원격접속 구축

### 원격접속할 서버에

~~~
1. adduser <유저이름>
2. apt install openssh-server
3. systemctl restart ssh
4. systemctl enable ssh
5. systemctl status ssh
  (가운데 초록불이 들어왔는지 확인)
6. ufw allow 22/tcp
7. ifconfig
  (inet 옆의 [ip주소]확인)
~~~

### 원격접속을 이용할 클라이언트에
~~~
1. 클라이언트 프로그램 Git-Bash 설치
2.  ssh <유저이름>@[ip주소]
3.  sudo su 
  (root로 접속해놓지 않으면 여러가지 오류가 발생)
~~~

<br>

## Domain Name System
### * 호스트의 도메인 이름을 네트워크 주소로 변경
### 현재의 도메인 이름 확인하기
~~~
1. nslookup
2. server
~~~
### 도메인이름을 네트워크 주소로 변경 (일시적)
~~~
1. nslookup
2. server [IP주소]
~~~
### 도메인이름을 네트워크 주소로 변경 (계속)
~~~
1. vi /etc/resolv.conf
2. nameserver [IP주소]
~~~

<br>

## Caching only Name Server
### 캐싱전용 - URL로 IP주로를 얻기위해 만드는 네임 서버
~~~
1. apt install bind9 bind9utils
2. vi /etc/bind/named.conf.options
  (21: dnssec=balidation no;)
  (22: recursion yes;)
  (23: allow-query { any; };
3. systemctl restart named
4. systemctl enable named
5. systemctl status named
6. ufw allow 53
7. nslookup
8. [URL]
~~~

<br>

## Round Robin DNS
### 여러 대의 웹 서버를 교대로 실행하여 웹 서버의 부하를 나눈다
### 서버계정에서
4번 이미지
![y45g82ko](https://user-images.githubusercontent.com/80246328/118531729-1c655800-b781-11eb-8a63-3b99bb8c8db8.jpg)

~~~
1. vi /etc/bind/named.conf.local

2. zone "[URL]" IN {
  type master;
  file "/ext/bind/[URL].db";
 };
  ([URL]에 접속할경우 [URL].db를 참고한다.)
3. vi /etc/bind/[URL].db
4. (첫번째 IP-의미없다(?) 둘,셋,네번째 IP-교대로 실행할 웹서버의 주소)
5. systemctl restart named
~~~
### 접속할 계정에서
~~~
1. vi /etc/resolv.conf의 내용을 서버계정의 아이피로 수정한다.
~~~

<br>

## 문제상황과 해결
1. Client의 net-tools(nslookup을 위한)설치가 되지않았다.
2. 패키지 저장소를 바꿔야했는데, 웹서핑하였지만 쿠분투 저장소는 나오지않았다.
3. 우분투 저장소를 그대로 업데이트 하였더니 동작하였따.
* sources.list 를 열면 많은 글들이 나와 겁부터 먹게 된다. 그렇지만 단 두줄로 해결할 수 있었다.
1. Git-bash에서 [URL].db 파일을 저장하고 다시 열어도 색이 변하지 않는다.
2. 그래도 동작은 정상적으로 되었다. 색을 적용하는 방법은 아직 찾지 못했다.

## 회고
1. 이번 수업은 실습비중이 유난히 컸던 것 같다.
2. 항상 문제는 큰 곳보다 작은 곳에서 예상치 못하게 튀어나온다.
3. 글자 색상은 왜 적용되지 않았을까? 찾아도 찾아도 나오지않는다.
4. 배우면서 그냥 넘어가는부분이 많은 것 같다. 아직 갈길이 멀다는 생각이 든다.
5. 잘못건드렸다가 서버가 아예 망가질까봐 무서워서 스트레스를 많이 받는다.
6. 패키지 저장소를 바꿀때도 그랬는데, 생각보다 겁낼 필요가 없다는 것을 느꼈다.
7. 하지만 백업은 필 수 ...
